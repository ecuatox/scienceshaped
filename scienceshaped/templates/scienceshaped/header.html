{% load staticfiles %}

<div class="desktop">
  <div class="headerbar headerLarge">
    <a href="#top"><img class="logo" src="{% static "scienceshaped/img/logo.png" %}" /></a>
    {% if request.user.is_authenticated %}
      <div class="user">
        Logged in as {{ request.user.first_name }}. <a href="/authentication/logout">Log out</a>
      </div>
    {% endif %}
    <ul class="menu">
      <li><a href="#info" class="item">Info</a></li>
      <li><a href="#illustrations" class="item">Illustrations</a></li>
      <li><a href="#testimonials" class="item">Testimonials</a></li>
      <li><a href="#about" class="item">About</a></li>
      <li><a href="#contact" class="item">Contact</a></li>
    </ul>
  </div>
</div>

<div class="mobile">
  <div class="headerbar headerLarge">
    <div class="item">
      <a href="#top"><img class="logo" src="{% static "scienceshaped/img/logo.png" %}" /></a>
    </div>
    <a class="item mobile sidetoggle"><i class="material-icons">menu</i></a>
  </div>
</div>

<div class="mobile">
  <div class="ui sidebar inverted vertical menu">
    <a href="#info" class="item">Info</a>
    <a href="#illustrations" class="item">Illustrations</a>
    <a href="#testimonials" class="item">Testimonials</a>
    <a href="#about" class="item">About</a>
    <a href="#contact" class="item">Contact</a>
  </div>
</div>

<script>
  $(function() {
    $('.ui.sidebar').sidebar('setting', 'transition', 'overlay');
    $('.sidetoggle').click(function() {
      $('.ui.sidebar').sidebar('toggle');
    });
    $('.ui.sidebar .item').click(function() {
      $('.ui.sidebar').sidebar('hide')
    });
  });
</script>

<script>
  $(function() {
    pos = "top";
  });

  $(window).scroll(function() {
    var scrollTop = $(window).scrollTop();
    if (pos == "top" && scrollTop > 50) {
      pos = "page";
      $(".desktop .headerbar").addClass("headerSmall");
      $(".desktop .headerbar").removeClass("headerLarge");
    } else if (pos == "page" && scrollTop <= 50) {
      pos = "top";
      $(".desktop .headerbar").addClass("headerLarge");
      $(".desktop .headerbar").removeClass("headerSmall");
    }
  });

  $("#logo").click(function() {
    $(".desktop .headerbar").addClass("headerLarge");
    $(".desktop .headerbar").removeClass("headerSmall");
  });
</script>
